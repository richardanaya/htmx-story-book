<!DOCTYPE html>
<html>
<head>
    <title>{{title}}</title>
    <script src="https://unpkg.com/htmx.org@2.0.4" integrity="sha384-HGfztofotfshcF7+8n44JQL2oJmowVChPTg48S+jvZoztPfvwD79OC/LTtG6dMp+" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header>
        <h1>{{heading}}</h1>
        <div class="auth-section">
            {{#if username}}
                {{> logged_in}}
            {{else}}
                {{> login}}
            {{/if}}
        </div>
    </header>
    <main>
        {{#if username}}
            <div>
                Count: <span id="counter" hx-get="/counter" hx-trigger="click" hx-swap="innerHTML">{{count}}</span>
                <p><small>(Click the number to increment)</small></p>
            </div>
            <div>
                {{> signature}}
            </div>
        {{else}}
            <section class="welcome">
                <h2>Welcome to Storybuilder!</h2>
                <p>This is your gateway to explore dynamically generated "Choose Your Own Adventure" stories powered by AI.</p>
                <p>Here you can:</p>
                <ul>
                    <li>Read unique, AI-generated branching stories</li>
                    <li>Create your own adventure paths</li>
                    <li>Collaborate with others to build epic tales</li>
                </ul>
                <p>Log in to start your adventure!</p>
            </section>
        {{/if}}
    </main>
</body>
</html>
